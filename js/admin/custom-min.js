/*Plugin Name: OS BxSliderPlugin URI: http://offshorent.com/os-bxslider/Description: Creates a responsive slider using bxslider. WordPress plugin develop by Offshorent Softwares Pvt Ltd.Version: 2.0Author: Jinesh.P.V, Offshorent Softwares Pvt Ltd.Author URI: http://offshorent.com/os-bxslider/License: GPL2*/(function($){$(document).on('click','.toggle',function(e){$(this).parent().parent().next().slideToggle(500);if($(this).hasClass("up"))$(this).removeClass("up").addClass("down");else $(this).removeClass("down").addClass("up")});$(document).on('click','.attribute-box label.attribute',function(e){$(this).next().slideToggle(500)});$('#os-bxslider-slider-wrapper').sortable({handle:'.os-bxslider-header',placeholder:"os-slider-slide-placeholder",forcePlaceholderSize:true,delay:100,update:function(event,ui){$('#os-bxslider-slider-wrapper .os-bxslider-box').each(function(boxIndex,box){$(box).find('input, select, textarea').each(function(i,field){var name=$(field).attr('name');if(name){name=name.replace(/\[[0-9]+\]/,'['+boxIndex+']');$(field).attr('name',name)}})})}});$(document).on('click','#add-slide',function(e){var id=$('.os-bxslider-box').length,html=$('.os-bxslider-box-wrap').html();html=html.replace(/{id}/g,id);$('#os-bxslider-slider-wrapper').append(html);e.preventDefault()});var custom_uploader;$(document).on('click','#add-image',function(e){e.preventDefault();curr_element=$(this);if(custom_uploader){custom_uploader.open();return}$('.media-modal, .media-modal-backdrop').hide();custom_uploader=wp.media.frames.file_frame=wp.media({title:'Choose an image',frame:'select',button:{text:'Add to slide'},library:{type:'image'},multiple:true});custom_uploader.on('select',function(){attachment=custom_uploader.state().get('selection').first().toJSON();var img=$('<img>');if(attachment.sizes.medium){img.attr({src:attachment.sizes.medium.url,alt:'medium'})}else{img.attr({src:attachment.sizes.full.url,alt:'full'})}curr_element.prev().prev().html(img);curr_element.parent().parent().prev().find('.os-bxslider-caption').html(attachment.title);curr_element.prev().val(attachment.id);curr_element.val('Update Image');window.scrollTo(300,0)});custom_uploader.open()});$(document).on('click','.os-bxslider-box .delete',function(e){$(this).closest('.os-bxslider-box').remove()});$(document).on('click','.slider_type',function(e){if($(this).hasClass("active")){$('#slider_type').val('');$('.slider_type').removeClass('active')}else{var type_value=$(this).attr('id');$('#slider_type').val(type_value);$('.slider_type').removeClass('active');$(this).addClass('active')}});$(document).on('click','.shortcode',function(e){$(this).select();$(this).onmouseup=function(){$(this).onmouseup=null;return false}});$(document).on('click','.next_button',function(e){window.send_to_editor=function(html){imgurl=jQuery('img',html).attr('src');$('.next_button').prev().val(imgurl)}});$(document).on('click','.prev_button',function(e){window.send_to_editor=function(html){imgurl=jQuery('img',html).attr('src');$('.prev_button').prev().val(imgurl)}})})(jQuery);